[gd_scene load_steps=10 format=4 uid="uid://bacd8gv2afpld"]

[ext_resource type="Script" path="res://objects/structure/Tower/Tower.cs" id="1_lpc6r"]
[ext_resource type="TileSet" uid="uid://ckwmwmuoqgyld" path="res://sprites/tile_set_base.tres" id="2_88lj6"]
[ext_resource type="Texture2D" uid="uid://f7y0xc513lko" path="res://sprites/new_sprites/healthBar_under.png" id="3_66gfd"]
[ext_resource type="Texture2D" uid="uid://bb6my0c4qqhk6" path="res://sprites/new_sprites/healthBar_progress.png" id="4_ufppo"]

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_e65lj"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_48uk7"]
size = Vector2(121, 158)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_pvdjl"]
size = Vector2(63, 50)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_wgd1q"]
size = Vector2(135, 167)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_j860s"]

[node name="Tower" type="StaticBody2D"]
collision_layer = 3
collision_mask = 3
physics_material_override = SubResource("PhysicsMaterial_e65lj")
script = ExtResource("1_lpc6r")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(0.5, -16)
shape = SubResource("RectangleShape2D_48uk7")
debug_color = Color(0.816077, 0.0019364, 0.974498, 0.42)

[node name="CollisionShape2D2" type="CollisionShape2D" parent="."]
position = Vector2(-0.5, -102)
shape = SubResource("RectangleShape2D_pvdjl")

[node name="TileMap" type="TileMap" parent="."]
texture_filter = 1
tile_set = ExtResource("2_88lj6")
format = 2

[node name="underbase" type="TileMapLayer" parent="TileMap"]
modulate = Color(0.687215, 0.687215, 0.687215, 1)
texture_filter = 1
use_parent_material = true
tile_map_data = PackedByteArray("AAD+//7/AgAEAAoAAAD+////AgABAAoAAAD///7/AgAFAAoAAAD/////AgACAAoAAAAAAP7/AgAEAAoAAAAAAP//AgAEAAoAAAABAP7/AgAFAAoAAAABAP//AgAEAAoAAAD+//3/AgAFAAEAAAD///3/AgAFAAEAAAAAAP3/AgAGAAEAAAABAP3/AgAHAAEAAAA=")
tile_set = ExtResource("2_88lj6")

[node name="base" type="TileMapLayer" parent="TileMap"]
use_parent_material = true
tile_map_data = PackedByteArray("AAD+//7/AgABAAIAAAD+////AgABAAIAAAD+/wAAAgABAAMAAAD+/wEAAgABAAQAAAD///7/AgACAAEAAAD/////AgACAAIAAAD//wAAAgACAAMAAAD//wEAAgACAAQAAAAAAP7/AgACAAEAAAAAAP//AgACAAIAAAAAAAAAAgACAAMAAAAAAAEAAgACAAQAAAABAP7/AgADAAIAAAABAP//AgADAAIAAAABAAAAAgADAAMAAAABAAEAAgADAAQAAAD+//3/AgABAAEAAAD///3/AgACAAEAAAAAAP3/AgACAAEAAAABAP3/AgADAAEAAAA=")
tile_set = ExtResource("2_88lj6")

[node name="underup" type="TileMapLayer" parent="TileMap"]
modulate = Color(0.798366, 0.798366, 0.798366, 1)
use_parent_material = true
tile_map_data = PackedByteArray("AAD///z/AgAFAAoAAAAAAPz/AgAFAAoAAAA=")
tile_set = ExtResource("2_88lj6")

[node name="upbase" type="TileMapLayer" parent="TileMap"]
use_parent_material = true
tile_map_data = PackedByteArray("AAD///z/AgAMAAIAAAD///3/AgAMAAMAAAD///7/AgAMAAQAAAAAAPz/AgANAAIAAAAAAP3/AgANAAMAAAAAAP7/AgANAAQAAAA=")
tile_set = ExtResource("2_88lj6")

[node name="details" type="TileMapLayer" parent="TileMap"]
visible = false
use_parent_material = true
tile_map_data = PackedByteArray("AAD/////AwADAAEAAAADAP3/AwADAA8AAAD8//7/AwAAAA8AAAD8/wIAAwAEAA8AAAACAAIAAwAAAA8AAAAEAAAAAwACAA8AAAD7/wEAAwAFAA8AAAABAAUAAwAIAA8AAAACAAQAAwADAA8AAAD8/wMAAwABAA8AAAD//wAAAwAAAAMAAAD//wEAAwAAAAQAAAAAAAAAAwABAAMAAAAAAAEAAwABAAQAAAABAAAAAwACAAMAAAABAAEAAwACAAQAAAABAPz/AwAFAAYAAAABAP3/AwAFAAcAAAA=")
tile_set = ExtResource("2_88lj6")

[node name="Hitbox" type="Area2D" parent="."]

[node name="HitboxCollision" type="CollisionShape2D" parent="Hitbox"]
position = Vector2(0, -18)
shape = SubResource("RectangleShape2D_wgd1q")
disabled = true

[node name="HealthBar" type="TextureProgressBar" parent="."]
texture_filter = 1
offset_left = -31.0
offset_top = 7.0
offset_right = 1.0
offset_bottom = 11.0
scale = Vector2(2, 2)
texture_under = ExtResource("3_66gfd")
texture_progress = ExtResource("4_ufppo")

[node name="LightOccluder2D" type="LightOccluder2D" parent="."]
occluder = SubResource("OccluderPolygon2D_j860s")

[connection signal="body_entered" from="Hitbox" to="." method="_on_hitbox_body_entered"]
